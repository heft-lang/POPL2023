<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Hefty.Concur</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Hefty.Concur.html" class="Module">Hefty.Concur</a> <a id="21" class="Keyword">where</a>

<a id="28" class="Keyword">open</a> <a id="33" class="Keyword">import</a> <a id="40" href="Function.html" class="Module">Function</a>
<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="Level.html" class="Module">Level</a> <a id="67" class="Keyword">renaming</a> <a id="76" class="Symbol">(</a><a id="77" href="Agda.Primitive.html#764" class="Primitive">zero</a> <a id="82" class="Symbol">to</a> <a id="85" class="Primitive">ℓ0</a><a id="87" class="Symbol">)</a> <a id="89" class="Keyword">using</a> <a id="95" class="Symbol">()</a>
<a id="98" class="Keyword">open</a> <a id="103" class="Keyword">import</a> <a id="110" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="120" class="Keyword">open</a> <a id="125" class="Keyword">import</a> <a id="132" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="142" class="Keyword">using</a> <a id="148" class="Symbol">(</a><a id="149" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="153" class="Symbol">;</a> <a id="155" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="159" class="Symbol">;</a> <a id="161" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="166" class="Symbol">;</a> <a id="168" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="181" class="Symbol">)</a>
<a id="183" class="Keyword">open</a> <a id="188" class="Keyword">import</a> <a id="195" href="Data.Universe.html" class="Module">Data.Universe</a> <a id="209" class="Keyword">renaming</a> <a id="218" class="Symbol">(</a><a id="219" href="Data.Universe.html#396" class="Record">Universe</a> <a id="228" class="Symbol">to</a> <a id="231" class="Record">Univ</a><a id="235" class="Symbol">)</a>
<a id="237" class="Keyword">private</a> <a id="Universe"></a><a id="245" href="Hefty.Concur.html#245" class="Function">Universe</a> <a id="254" class="Symbol">=</a> <a id="256" href="Hefty.Concur.html#231" class="Record">Univ</a> <a id="261" href="Hefty.Concur.html#85" class="Primitive">ℓ0</a> <a id="264" href="Hefty.Concur.html#85" class="Primitive">ℓ0</a>
<a id="267" class="Keyword">open</a> <a id="272" href="Hefty.Concur.html#231" class="Module">Univ</a> <a id="277" class="Symbol">⦃</a> <a id="279" class="Symbol">...</a> <a id="283" class="Symbol">⦄</a> <a id="285" class="Keyword">renaming</a> <a id="294" class="Symbol">(</a><a id="295" href="Data.Universe.html#447" class="Field">U</a> <a id="297" class="Symbol">to</a> <a id="300" class="Field">Ty</a><a id="302" class="Symbol">;</a> <a id="304" href="Data.Universe.html#477" class="Field">El</a> <a id="307" class="Symbol">to</a> <a id="310" class="Field">⟦_⟧</a><a id="313" class="Symbol">)</a>

<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Free.html" class="Module">Free</a> <a id="333" class="Keyword">hiding</a> <a id="340" class="Symbol">(</a><a id="341" href="Free.html#2048" class="Function Operator">_&gt;&gt;=_</a><a id="346" class="Symbol">;</a> <a id="348" href="Free.html#2120" class="Function Operator">_&gt;&gt;_</a><a id="352" class="Symbol">)</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Free.SubJump.html" class="Module">Free.SubJump</a>
<a id="379" class="Keyword">open</a> <a id="384" class="Keyword">import</a> <a id="391" href="Free.Interleave.html" class="Module">Free.Interleave</a>

<a id="408" class="Keyword">open</a> <a id="413" class="Keyword">import</a> <a id="420" href="Hefty.html" class="Module">Hefty</a> <a id="426" class="Keyword">hiding</a> <a id="433" class="Symbol">(</a><a id="434" href="Hefty.html#2772" class="Function Operator">_&gt;&gt;=_</a><a id="439" class="Symbol">;</a> <a id="441" href="Hefty.html#2901" class="Function Operator">_&gt;&gt;_</a><a id="445" class="Symbol">)</a>

<a id="448" class="Comment">{-
Operations
-}</a>

<a id="466" class="Keyword">data</a> <a id="ConcurOp"></a><a id="471" href="Hefty.Concur.html#471" class="Datatype">ConcurOp</a> <a id="480" class="Symbol">⦃</a> <a id="482" href="Hefty.Concur.html#482" class="Bound">u</a> <a id="484" class="Symbol">:</a> <a id="486" href="Hefty.Concur.html#245" class="Function">Universe</a> <a id="495" class="Symbol">⦄</a> <a id="497" class="Symbol">:</a> <a id="499" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="503" class="Keyword">where</a>
  <a id="ConcurOp.spawn"></a><a id="511" href="Hefty.Concur.html#511" class="InductiveConstructor">spawn</a>   <a id="519" class="Symbol">:</a> <a id="521" class="Symbol">(</a><a id="522" href="Hefty.Concur.html#522" class="Bound">t</a> <a id="524" class="Symbol">:</a> <a id="526" href="Hefty.Concur.html#300" class="Field">Ty</a><a id="528" class="Symbol">)</a> <a id="530" class="Symbol">→</a> <a id="532" href="Hefty.Concur.html#471" class="Datatype">ConcurOp</a>
  <a id="ConcurOp.atomic"></a><a id="543" href="Hefty.Concur.html#543" class="InductiveConstructor">atomic</a>  <a id="551" class="Symbol">:</a> <a id="553" class="Symbol">(</a><a id="554" href="Hefty.Concur.html#554" class="Bound">t</a> <a id="556" class="Symbol">:</a> <a id="558" href="Hefty.Concur.html#300" class="Field">Ty</a><a id="560" class="Symbol">)</a> <a id="562" class="Symbol">→</a> <a id="564" href="Hefty.Concur.html#471" class="Datatype">ConcurOp</a>


<a id="575" class="Comment">{-
Effect signature
-}</a>

<a id="Concur"></a><a id="599" href="Hefty.Concur.html#599" class="Function">Concur</a> <a id="606" class="Symbol">:</a> <a id="608" class="Symbol">⦃</a> <a id="610" href="Hefty.Concur.html#610" class="Bound">u</a> <a id="612" class="Symbol">:</a> <a id="614" href="Hefty.Concur.html#245" class="Function">Universe</a> <a id="623" class="Symbol">⦄</a> <a id="625" class="Symbol">→</a> <a id="627" href="Hefty.html#891" class="Record">Effectᴴ</a>
<a id="635" href="Hefty.html#921" class="Field">Opᴴ</a>   <a id="641" href="Hefty.Concur.html#599" class="Function">Concur</a>    <a id="651" class="Symbol">=</a> <a id="653" href="Hefty.Concur.html#471" class="Datatype">ConcurOp</a>
<a id="662" href="Hefty.html#944" class="Field">Forkᴴ</a> <a id="668" href="Hefty.Concur.html#599" class="Function">Concur</a> <a id="675" class="Symbol">(</a><a id="676" href="Hefty.Concur.html#511" class="InductiveConstructor">spawn</a> <a id="682" href="Hefty.Concur.html#682" class="Bound">t</a><a id="683" class="Symbol">)</a>  <a id="686" class="Symbol">=</a> <a id="688" class="Keyword">record</a> <a id="695" class="Symbol">{</a> <a id="697" href="Free.html#816" class="Field">Op</a> <a id="700" class="Symbol">=</a> <a id="702" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="706" class="Symbol">;</a> <a id="708" href="Free.html#836" class="Field">Ret</a> <a id="712" class="Symbol">=</a> <a id="714" class="Symbol">λ</a> <a id="716" href="Hefty.Concur.html#716" class="Bound">_</a> <a id="718" class="Symbol">→</a> <a id="720" href="Hefty.Concur.html#310" class="Field Operator">⟦</a> <a id="722" href="Hefty.Concur.html#682" class="Bound">t</a> <a id="724" href="Hefty.Concur.html#310" class="Field Operator">⟧</a> <a id="726" class="Symbol">}</a>
<a id="728" href="Hefty.html#976" class="Field">Retᴴ</a>  <a id="734" href="Hefty.Concur.html#599" class="Function">Concur</a> <a id="741" class="Symbol">(</a><a id="742" href="Hefty.Concur.html#511" class="InductiveConstructor">spawn</a> <a id="748" href="Hefty.Concur.html#748" class="Bound">t</a><a id="749" class="Symbol">)</a>  <a id="752" class="Symbol">=</a> <a id="754" href="Hefty.Concur.html#310" class="Field Operator">⟦</a> <a id="756" href="Hefty.Concur.html#748" class="Bound">t</a> <a id="758" href="Hefty.Concur.html#310" class="Field Operator">⟧</a>
<a id="760" href="Hefty.html#944" class="Field">Forkᴴ</a> <a id="766" href="Hefty.Concur.html#599" class="Function">Concur</a> <a id="773" class="Symbol">(</a><a id="774" href="Hefty.Concur.html#543" class="InductiveConstructor">atomic</a> <a id="781" href="Hefty.Concur.html#781" class="Bound">t</a><a id="782" class="Symbol">)</a> <a id="784" class="Symbol">=</a> <a id="786" class="Keyword">record</a> <a id="793" class="Symbol">{</a> <a id="795" href="Free.html#816" class="Field">Op</a> <a id="798" class="Symbol">=</a> <a id="800" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="801" class="Symbol">;</a> <a id="803" href="Free.html#836" class="Field">Ret</a> <a id="807" class="Symbol">=</a> <a id="809" class="Symbol">λ</a> <a id="811" href="Hefty.Concur.html#811" class="Bound">_</a> <a id="813" class="Symbol">→</a> <a id="815" href="Hefty.Concur.html#310" class="Field Operator">⟦</a> <a id="817" href="Hefty.Concur.html#781" class="Bound">t</a> <a id="819" href="Hefty.Concur.html#310" class="Field Operator">⟧</a> <a id="821" class="Symbol">}</a>
<a id="823" href="Hefty.html#976" class="Field">Retᴴ</a>  <a id="829" href="Hefty.Concur.html#599" class="Function">Concur</a> <a id="836" class="Symbol">(</a><a id="837" href="Hefty.Concur.html#543" class="InductiveConstructor">atomic</a> <a id="844" href="Hefty.Concur.html#844" class="Bound">t</a><a id="845" class="Symbol">)</a> <a id="847" class="Symbol">=</a> <a id="849" href="Hefty.Concur.html#310" class="Field Operator">⟦</a> <a id="851" href="Hefty.Concur.html#844" class="Bound">t</a> <a id="853" href="Hefty.Concur.html#310" class="Field Operator">⟧</a>


<a id="857" class="Comment">{-
Smart constructors
-}</a>

<a id="883" class="Keyword">module</a> <a id="890" href="Hefty.Concur.html#890" class="Module">_</a> <a id="892" class="Symbol">⦃</a> <a id="894" href="Hefty.Concur.html#894" class="Bound">u</a> <a id="896" class="Symbol">:</a> <a id="898" href="Hefty.Concur.html#245" class="Function">Universe</a> <a id="907" class="Symbol">⦄</a> <a id="909" class="Keyword">where</a>

  <a id="918" href="Hefty.Concur.html#918" class="Function">‵spawn</a> <a id="925" class="Symbol">:</a> <a id="927" class="Symbol">⦃</a> <a id="929" href="Hefty.Concur.html#929" class="Bound">w</a> <a id="931" class="Symbol">:</a> <a id="933" href="Hefty.html#1027" class="Generalizable">H</a> <a id="935" href="Hefty.html#4021" class="Datatype Operator">∼</a> <a id="937" href="Hefty.Concur.html#599" class="Function">Concur</a> <a id="944" href="Hefty.html#4021" class="Datatype Operator">▹</a> <a id="946" href="Hefty.html#1029" class="Generalizable">H′</a> <a id="949" class="Symbol">⦄</a> <a id="951" class="Symbol">{</a><a id="952" href="Hefty.Concur.html#952" class="Bound">t</a> <a id="954" class="Symbol">:</a> <a id="956" href="Hefty.Concur.html#300" class="Field">Ty</a><a id="958" class="Symbol">}</a>
         <a id="969" class="Symbol">→</a> <a id="971" href="Hefty.html#1799" class="Datatype">Hefty</a> <a id="977" href="Hefty.html#1027" class="Generalizable">H</a> <a id="979" href="Hefty.Concur.html#310" class="Field Operator">⟦</a> <a id="981" href="Hefty.Concur.html#952" class="Bound">t</a> <a id="983" href="Hefty.Concur.html#310" class="Field Operator">⟧</a> <a id="985" class="Symbol">→</a> <a id="987" href="Hefty.html#1799" class="Datatype">Hefty</a> <a id="993" href="Hefty.html#1027" class="Generalizable">H</a> <a id="995" href="Hefty.Concur.html#310" class="Field Operator">⟦</a> <a id="997" href="Hefty.Concur.html#952" class="Bound">t</a> <a id="999" href="Hefty.Concur.html#310" class="Field Operator">⟧</a> <a id="1001" class="Symbol">→</a> <a id="1003" href="Hefty.html#1799" class="Datatype">Hefty</a> <a id="1009" href="Hefty.html#1027" class="Generalizable">H</a> <a id="1011" href="Hefty.Concur.html#310" class="Field Operator">⟦</a> <a id="1013" href="Hefty.Concur.html#952" class="Bound">t</a> <a id="1015" href="Hefty.Concur.html#310" class="Field Operator">⟧</a>
  <a id="1019" href="Hefty.Concur.html#918" class="Function">‵spawn</a> <a id="1026" class="Symbol">⦃</a> <a id="1028" class="Argument">w</a> <a id="1030" class="Symbol">=</a> <a id="1032" href="Hefty.Concur.html#1032" class="Bound">w</a> <a id="1034" class="Symbol">⦄</a> <a id="1036" class="Symbol">{</a><a id="1037" href="Hefty.Concur.html#1037" class="Bound">t</a><a id="1038" class="Symbol">}</a> <a id="1040" href="Hefty.Concur.html#1040" class="Bound">m₁</a> <a id="1043" href="Hefty.Concur.html#1043" class="Bound">m₂</a> <a id="1046" class="Symbol">=</a>
    <a id="1052" href="Hefty.html#1870" class="InductiveConstructor">impure</a> <a id="1059" class="Symbol">(</a><a id="1060" href="Hefty.html#4548" class="Function">inj▹ₗ</a> <a id="1066" class="Symbol">(</a><a id="1067" href="Hefty.Concur.html#511" class="InductiveConstructor">spawn</a> <a id="1073" href="Hefty.Concur.html#1037" class="Bound">t</a><a id="1074" class="Symbol">))</a> <a id="1077" class="Symbol">(</a><a id="1078" href="Hefty.html#7453" class="Function">proj-fork▹ₗ</a> <a id="1090" class="Symbol">(λ</a> <a id="1093" href="Hefty.Concur.html#1093" class="Bound">b</a> <a id="1095" class="Symbol">→</a> <a id="1097" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1100" href="Hefty.Concur.html#1093" class="Bound">b</a> <a id="1102" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1107" href="Hefty.Concur.html#1040" class="Bound">m₁</a> <a id="1110" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1115" href="Hefty.Concur.html#1043" class="Bound">m₂</a><a id="1117" class="Symbol">))</a> <a id="1120" class="Symbol">(</a><a id="1121" href="Hefty.html#1843" class="InductiveConstructor">pure</a> <a id="1126" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="1128" href="Hefty.html#6698" class="Function">proj-ret▹ₗ</a> <a id="1139" class="Symbol">⦃</a> <a id="1141" href="Hefty.Concur.html#1032" class="Bound">w</a> <a id="1143" class="Symbol">⦄)</a>

  <a id="1149" href="Hefty.Concur.html#1149" class="Function">‵atomic</a> <a id="1157" class="Symbol">:</a> <a id="1159" class="Symbol">⦃</a> <a id="1161" href="Hefty.Concur.html#1161" class="Bound">w</a> <a id="1163" class="Symbol">:</a> <a id="1165" href="Hefty.html#1027" class="Generalizable">H</a> <a id="1167" href="Hefty.html#4021" class="Datatype Operator">∼</a> <a id="1169" href="Hefty.Concur.html#599" class="Function">Concur</a> <a id="1176" href="Hefty.html#4021" class="Datatype Operator">▹</a> <a id="1178" href="Hefty.html#1029" class="Generalizable">H′</a> <a id="1181" class="Symbol">⦄</a> <a id="1183" class="Symbol">{</a><a id="1184" href="Hefty.Concur.html#1184" class="Bound">t</a> <a id="1186" class="Symbol">:</a> <a id="1188" href="Hefty.Concur.html#300" class="Field">Ty</a><a id="1190" class="Symbol">}</a>
           <a id="1203" class="Symbol">→</a> <a id="1205" href="Hefty.html#1799" class="Datatype">Hefty</a> <a id="1211" href="Hefty.html#1027" class="Generalizable">H</a> <a id="1213" href="Hefty.Concur.html#310" class="Field Operator">⟦</a> <a id="1215" href="Hefty.Concur.html#1184" class="Bound">t</a> <a id="1217" href="Hefty.Concur.html#310" class="Field Operator">⟧</a> <a id="1219" class="Symbol">→</a> <a id="1221" href="Hefty.html#1799" class="Datatype">Hefty</a> <a id="1227" href="Hefty.html#1027" class="Generalizable">H</a> <a id="1229" href="Hefty.Concur.html#310" class="Field Operator">⟦</a> <a id="1231" href="Hefty.Concur.html#1184" class="Bound">t</a> <a id="1233" href="Hefty.Concur.html#310" class="Field Operator">⟧</a>
  <a id="1237" href="Hefty.Concur.html#1149" class="Function">‵atomic</a> <a id="1245" class="Symbol">⦃</a> <a id="1247" class="Argument">w</a> <a id="1249" class="Symbol">=</a> <a id="1251" href="Hefty.Concur.html#1251" class="Bound">w</a> <a id="1253" class="Symbol">⦄</a> <a id="1255" class="Symbol">{</a><a id="1256" href="Hefty.Concur.html#1256" class="Bound">t</a><a id="1257" class="Symbol">}</a> <a id="1259" href="Hefty.Concur.html#1259" class="Bound">m</a> <a id="1261" class="Symbol">=</a> <a id="1263" href="Hefty.html#1870" class="InductiveConstructor">impure</a> <a id="1270" class="Symbol">(</a><a id="1271" href="Hefty.html#4548" class="Function">inj▹ₗ</a> <a id="1277" class="Symbol">(</a><a id="1278" href="Hefty.Concur.html#543" class="InductiveConstructor">atomic</a> <a id="1285" href="Hefty.Concur.html#1256" class="Bound">t</a><a id="1286" class="Symbol">))</a> <a id="1289" class="Symbol">(</a><a id="1290" href="Hefty.html#7453" class="Function">proj-fork▹ₗ</a> <a id="1302" class="Symbol">(λ</a> <a id="1305" href="Hefty.Concur.html#1305" class="Bound">_</a> <a id="1307" class="Symbol">→</a> <a id="1309" href="Hefty.Concur.html#1259" class="Bound">m</a><a id="1310" class="Symbol">))</a> <a id="1313" class="Symbol">(</a><a id="1314" href="Hefty.html#1843" class="InductiveConstructor">pure</a> <a id="1319" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="1321" href="Hefty.html#6698" class="Function">proj-ret▹ₗ</a> <a id="1332" class="Symbol">⦃</a> <a id="1334" href="Hefty.Concur.html#1251" class="Bound">w</a> <a id="1336" class="Symbol">⦄)</a>


  <a id="1343" class="Comment">{-
  Elaboration
  -}</a>

  <a id="1368" href="Hefty.Concur.html#1368" class="Function">eConcur</a> <a id="1376" class="Symbol">:</a> <a id="1378" class="Symbol">{</a><a id="1379" href="Hefty.Concur.html#1379" class="Bound">Ref</a> <a id="1383" class="Symbol">:</a> <a id="1385" href="Hefty.Concur.html#300" class="Field">Ty</a> <a id="1388" class="Symbol">→</a> <a id="1390" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="1393" class="Symbol">}</a> <a id="1395" class="Symbol">⦃</a> <a id="1397" href="Hefty.Concur.html#1397" class="Bound">wₐ</a> <a id="1400" class="Symbol">:</a> <a id="1402" href="Free.html#882" class="Generalizable">Δ</a> <a id="1404" href="Free.html#3485" class="Datatype Operator">∼</a> <a id="1406" href="Free.SubJump.html#668" class="Function">CC</a> <a id="1409" href="Hefty.Concur.html#1379" class="Bound">Ref</a> <a id="1413" href="Free.html#3485" class="Datatype Operator">▸</a> <a id="1415" href="Free.html#887" class="Generalizable">Δ″</a> <a id="1418" class="Symbol">⦄</a> <a id="1420" class="Symbol">→</a> <a id="1422" href="Hefty.html#9660" class="Function">Elaboration</a> <a id="1434" href="Hefty.Concur.html#599" class="Function">Concur</a> <a id="1441" href="Free.html#882" class="Generalizable">Δ</a>
  <a id="1445" href="Hefty.html#2153" class="Field">alg</a> <a id="1449" href="Hefty.Concur.html#1368" class="Function">eConcur</a> <a id="1457" class="Symbol">(</a><a id="1458" href="Hefty.Concur.html#511" class="InductiveConstructor">spawn</a> <a id="1464" href="Hefty.Concur.html#1464" class="Bound">t</a><a id="1465" class="Symbol">)</a>   <a id="1469" href="Hefty.Concur.html#1469" class="Bound">ψ</a> <a id="1471" href="Hefty.Concur.html#1471" class="Bound">k</a>  <a id="1474" class="Symbol">=</a>
    <a id="1480" href="Free.html#6575" class="Function">from-front</a> <a id="1491" class="Symbol">(</a><a id="1492" href="Free.Interleave.html#475" class="Function">interleaveₗ</a> <a id="1504" class="Symbol">(</a><a id="1505" href="Free.html#5661" class="Function">to-front</a> <a id="1514" class="Symbol">(</a><a id="1515" href="Hefty.Concur.html#1469" class="Bound">ψ</a> <a id="1517" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="1521" class="Symbol">))</a> <a id="1524" class="Symbol">(</a><a id="1525" href="Free.html#5661" class="Function">to-front</a> <a id="1534" class="Symbol">(</a><a id="1535" href="Hefty.Concur.html#1469" class="Bound">ψ</a> <a id="1537" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="1542" class="Symbol">)))</a> <a id="1546" href="Free.html#2048" class="Function Operator">&gt;&gt;=</a> <a id="1550" href="Hefty.Concur.html#1471" class="Bound">k</a>
    <a id="1556" class="Keyword">where</a> <a id="1562" class="Keyword">open</a> <a id="1567" class="Keyword">import</a> <a id="1574" href="Free.html" class="Module">Free</a> <a id="1579" class="Keyword">using</a> <a id="1585" class="Symbol">(</a><a id="1586" href="Free.html#2048" class="Function Operator">_&gt;&gt;=_</a><a id="1591" class="Symbol">)</a>
  <a id="1595" href="Hefty.html#2153" class="Field">alg</a> <a id="1599" href="Hefty.Concur.html#1368" class="Function">eConcur</a> <a id="1607" class="Symbol">(</a><a id="1608" href="Hefty.Concur.html#543" class="InductiveConstructor">atomic</a> <a id="1615" href="Hefty.Concur.html#1615" class="Bound">t</a><a id="1616" class="Symbol">)</a>  <a id="1619" href="Hefty.Concur.html#1619" class="Bound">ψ</a> <a id="1621" href="Hefty.Concur.html#1621" class="Bound">k</a>  <a id="1624" class="Symbol">=</a> <a id="1626" href="Free.SubJump.html#918" class="Function">‵sub</a> <a id="1631" class="Symbol">(λ</a> <a id="1634" href="Hefty.Concur.html#1634" class="Bound">ref</a> <a id="1638" class="Symbol">→</a> <a id="1640" href="Hefty.Concur.html#1619" class="Bound">ψ</a> <a id="1642" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="1645" href="Free.html#2048" class="Function Operator">&gt;&gt;=</a> <a id="1649" href="Free.SubJump.html#1070" class="Function">‵jump</a> <a id="1655" href="Hefty.Concur.html#1634" class="Bound">ref</a><a id="1658" class="Symbol">)</a> <a id="1660" href="Hefty.Concur.html#1621" class="Bound">k</a>
    <a id="1666" class="Keyword">where</a> <a id="1672" class="Keyword">open</a> <a id="1677" class="Keyword">import</a> <a id="1684" href="Free.html" class="Module">Free</a> <a id="1689" class="Keyword">using</a> <a id="1695" class="Symbol">(</a><a id="1696" href="Free.html#2048" class="Function Operator">_&gt;&gt;=_</a><a id="1701" class="Symbol">;</a> <a id="1703" href="Free.html#2120" class="Function Operator">_&gt;&gt;_</a><a id="1707" class="Symbol">)</a>

  <a id="1712" class="Keyword">instance</a>
    <a id="1725" href="Hefty.Concur.html#1725" class="Function">eConcur′</a> <a id="1734" class="Symbol">:</a> <a id="1736" class="Symbol">{</a><a id="1737" href="Hefty.Concur.html#1737" class="Bound">Ref</a> <a id="1741" class="Symbol">:</a> <a id="1743" href="Hefty.Concur.html#300" class="Field">Ty</a> <a id="1746" class="Symbol">→</a> <a id="1748" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="1751" class="Symbol">}</a> <a id="1753" class="Symbol">⦃</a> <a id="1755" href="Hefty.Concur.html#1755" class="Bound">wₐ</a> <a id="1758" class="Symbol">:</a> <a id="1760" href="Free.html#882" class="Generalizable">Δ</a> <a id="1762" href="Free.html#3485" class="Datatype Operator">∼</a> <a id="1764" href="Free.SubJump.html#668" class="Function">CC</a> <a id="1767" href="Hefty.Concur.html#1737" class="Bound">Ref</a> <a id="1771" href="Free.html#3485" class="Datatype Operator">▸</a> <a id="1773" href="Free.html#887" class="Generalizable">Δ″</a> <a id="1776" class="Symbol">⦄</a> <a id="1778" class="Symbol">→</a> <a id="1780" href="Hefty.html#10141" class="Record">Elab</a> <a id="1785" href="Hefty.Concur.html#599" class="Function">Concur</a> <a id="1792" href="Free.html#882" class="Generalizable">Δ</a>
    <a id="1798" href="Hefty.html#10194" class="Field">orate</a> <a id="1804" href="Hefty.Concur.html#1725" class="Function">eConcur′</a> <a id="1813" class="Symbol">=</a> <a id="1815" href="Hefty.Concur.html#1368" class="Function">eConcur</a>
</pre></body></html>