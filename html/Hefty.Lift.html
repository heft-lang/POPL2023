<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Hefty.Lift</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Hefty.Lift.html" class="Module">Hefty.Lift</a> <a id="19" class="Keyword">where</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Function.html" class="Module">Function</a>
<a id="47" class="Keyword">open</a> <a id="52" class="Keyword">import</a> <a id="59" href="Data.Empty.html" class="Module">Data.Empty</a>

<a id="71" class="Keyword">open</a> <a id="76" class="Keyword">import</a> <a id="83" href="Free.html" class="Module">Free</a>
<a id="88" class="Keyword">open</a> <a id="93" class="Keyword">import</a> <a id="100" href="Hefty.html" class="Module">Hefty</a>
<a id="106" class="Keyword">open</a> <a id="111" class="Keyword">import</a> <a id="118" href="Free.Nil.html" class="Module">Free.Nil</a>

<a id="128" class="Comment">{-
Lifting an algebraic effect to a higher-order effect
-}</a>

<a id="Lift"></a><a id="188" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="193" class="Symbol">:</a> <a id="195" href="Free.html#787" class="Record">Effect</a> <a id="202" class="Symbol">→</a> <a id="204" href="Hefty.html#891" class="Record">Effectᴴ</a>
<a id="212" href="Hefty.html#921" class="Field">Opᴴ</a>     <a id="220" class="Symbol">(</a><a id="221" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="226" href="Hefty.Lift.html#226" class="Bound">Δ</a><a id="227" class="Symbol">)</a>    <a id="232" class="Symbol">=</a> <a id="234" href="Free.html#816" class="Field">Op</a> <a id="237" href="Hefty.Lift.html#226" class="Bound">Δ</a>
<a id="239" href="Hefty.html#944" class="Field">Forkᴴ</a>   <a id="247" class="Symbol">(</a><a id="248" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="253" href="Hefty.Lift.html#253" class="Bound">Δ</a><a id="254" class="Symbol">)</a> <a id="256" class="Symbol">_</a>  <a id="259" class="Symbol">=</a> <a id="261" href="Free.Nil.html#90" class="Function">Nil</a>
<a id="265" href="Hefty.html#976" class="Field">Retᴴ</a>    <a id="273" class="Symbol">(</a><a id="274" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="279" href="Hefty.Lift.html#279" class="Bound">Δ</a><a id="280" class="Symbol">)</a>    <a id="285" class="Symbol">=</a> <a id="287" href="Free.html#836" class="Field">Ret</a> <a id="291" href="Hefty.Lift.html#279" class="Bound">Δ</a>


<a id="295" class="Comment">{-
Smart constructor
-}</a>

<a id="↑_"></a><a id="320" href="Hefty.Lift.html#320" class="Function Operator">↑_</a> <a id="323" class="Symbol">:</a> <a id="325" class="Symbol">⦃</a> <a id="327" href="Hefty.Lift.html#327" class="Bound">w</a> <a id="329" class="Symbol">:</a> <a id="331" href="Hefty.html#1027" class="Generalizable">H</a> <a id="333" href="Hefty.html#4021" class="Datatype Operator">∼</a> <a id="335" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="340" href="Free.html#882" class="Generalizable">Δ</a> <a id="342" href="Hefty.html#4021" class="Datatype Operator">▹</a> <a id="344" href="Hefty.html#1029" class="Generalizable">H′</a> <a id="347" class="Symbol">⦄</a> <a id="349" class="Symbol">→</a> <a id="351" class="Symbol">(</a><a id="352" href="Hefty.Lift.html#352" class="Bound">op</a> <a id="355" class="Symbol">:</a> <a id="357" href="Free.html#816" class="Field">Op</a> <a id="360" href="Free.html#882" class="Generalizable">Δ</a><a id="361" class="Symbol">)</a> <a id="363" class="Symbol">→</a> <a id="365" href="Hefty.html#1799" class="Datatype">Hefty</a> <a id="371" href="Hefty.html#1027" class="Generalizable">H</a> <a id="373" class="Symbol">(</a><a id="374" href="Free.html#836" class="Field">Ret</a> <a id="378" href="Free.html#882" class="Generalizable">Δ</a> <a id="380" href="Hefty.Lift.html#352" class="Bound">op</a><a id="382" class="Symbol">)</a>
<a id="384" href="Hefty.Lift.html#320" class="Function Operator">↑_</a> <a id="387" class="Symbol">⦃</a> <a id="389" href="Hefty.Lift.html#389" class="Bound">w</a> <a id="391" class="Symbol">⦄</a> <a id="393" href="Hefty.Lift.html#393" class="Bound">op</a> <a id="396" class="Symbol">=</a>
  <a id="400" href="Hefty.html#1870" class="InductiveConstructor">impure</a> <a id="407" class="Symbol">(</a><a id="408" href="Hefty.html#4548" class="Function">inj▹ₗ</a> <a id="414" class="Symbol">⦃</a> <a id="416" href="Hefty.Lift.html#389" class="Bound">w</a> <a id="418" class="Symbol">⦄</a> <a id="420" href="Hefty.Lift.html#393" class="Bound">op</a><a id="422" class="Symbol">)</a> <a id="424" class="Symbol">(</a><a id="425" href="Hefty.html#7453" class="Function">proj-fork▹ₗ</a> <a id="437" class="Symbol">⦃</a> <a id="439" href="Hefty.Lift.html#389" class="Bound">w</a> <a id="441" class="Symbol">⦄</a> <a id="443" class="Symbol">(λ</a> <a id="446" href="Hefty.Lift.html#446" class="Bound">b</a> <a id="448" class="Symbol">→</a> <a id="450" href="Data.Empty.html#1041" class="Function">⊥-elim</a> <a id="457" href="Hefty.Lift.html#446" class="Bound">b</a><a id="458" class="Symbol">))</a> <a id="461" class="Symbol">(</a><a id="462" href="Hefty.html#1843" class="InductiveConstructor">pure</a> <a id="467" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="469" href="Hefty.html#6698" class="Function">proj-ret▹ₗ</a> <a id="480" class="Symbol">⦃</a> <a id="482" href="Hefty.Lift.html#389" class="Bound">w</a> <a id="484" class="Symbol">⦄)</a>


<a id="489" class="Comment">{-
A (modular) elaboration
-}</a>

<a id="eLift"></a><a id="520" href="Hefty.Lift.html#520" class="Function">eLift</a> <a id="526" class="Symbol">:</a> <a id="528" class="Symbol">⦃</a> <a id="530" href="Free.html#882" class="Generalizable">Δ</a> <a id="532" href="Free.html#3485" class="Datatype Operator">∼</a> <a id="534" href="Free.html#893" class="Generalizable">Δ₀</a> <a id="537" href="Free.html#3485" class="Datatype Operator">▸</a> <a id="539" href="Free.html#884" class="Generalizable">Δ′</a> <a id="542" class="Symbol">⦄</a> <a id="544" class="Symbol">→</a> <a id="546" href="Hefty.html#9660" class="Function">Elaboration</a> <a id="558" class="Symbol">(</a><a id="559" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="564" href="Free.html#893" class="Generalizable">Δ₀</a><a id="566" class="Symbol">)</a> <a id="568" href="Free.html#882" class="Generalizable">Δ</a>
<a id="570" href="Hefty.html#2153" class="Field">alg</a> <a id="574" class="Symbol">(</a><a id="575" href="Hefty.Lift.html#520" class="Function">eLift</a> <a id="581" class="Symbol">⦃</a> <a id="583" href="Hefty.Lift.html#583" class="Bound">w</a> <a id="585" class="Symbol">⦄)</a> <a id="588" href="Hefty.Lift.html#588" class="Bound">op</a> <a id="591" href="Hefty.Lift.html#591" class="Bound">ψ</a> <a id="593" href="Hefty.Lift.html#593" class="Bound">k</a> <a id="595" class="Symbol">=</a> <a id="597" href="Free.html#1612" class="InductiveConstructor">impure</a> <a id="604" class="Symbol">(</a><a id="605" href="Free.html#4103" class="Function">inj▸ₗ</a> <a id="611" href="Hefty.Lift.html#588" class="Bound">op</a><a id="613" class="Symbol">)</a> <a id="615" class="Symbol">(</a><a id="616" href="Hefty.Lift.html#593" class="Bound">k</a> <a id="618" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="620" href="Free.html#4325" class="Function">proj-ret▸ₗ</a> <a id="631" class="Symbol">⦃</a> <a id="633" href="Hefty.Lift.html#583" class="Bound">w</a> <a id="635" class="Symbol">⦄)</a>


<a id="640" class="Comment">{-
Automatable elaboration
-}</a>

<a id="671" class="Keyword">instance</a>
  <a id="eLift′"></a><a id="682" href="Hefty.Lift.html#682" class="Function">eLift′</a> <a id="689" class="Symbol">:</a> <a id="691" class="Symbol">⦃</a> <a id="693" href="Free.html#882" class="Generalizable">Δ</a> <a id="695" href="Free.html#3485" class="Datatype Operator">∼</a> <a id="697" href="Free.html#893" class="Generalizable">Δ₀</a> <a id="700" href="Free.html#3485" class="Datatype Operator">▸</a> <a id="702" href="Free.html#884" class="Generalizable">Δ′</a> <a id="705" class="Symbol">⦄</a> <a id="707" class="Symbol">→</a> <a id="709" href="Hefty.html#10141" class="Record">Elab</a> <a id="714" class="Symbol">(</a><a id="715" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="720" href="Free.html#893" class="Generalizable">Δ₀</a><a id="722" class="Symbol">)</a> <a id="724" href="Free.html#882" class="Generalizable">Δ</a>
  <a id="728" href="Hefty.html#10194" class="Field">orate</a> <a id="734" href="Hefty.Lift.html#682" class="Function">eLift′</a> <a id="741" class="Symbol">=</a> <a id="743" href="Hefty.Lift.html#520" class="Function">eLift</a>

</pre></body></html>