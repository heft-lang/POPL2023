<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Example.Free.Choice+State</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--overlapping-instances</a> <a id="37" class="Pragma">--instance-search-depth=10</a> <a id="64" class="Symbol">#-}</a>

<a id="69" class="Keyword">module</a> <a id="76" href="Example.Free.Choice%252BState.html" class="Module">Example.Free.Choice+State</a> <a id="102" class="Keyword">where</a>

<a id="109" class="Keyword">open</a> <a id="114" class="Keyword">import</a> <a id="121" href="Function.html" class="Module">Function</a>
<a id="130" class="Keyword">open</a> <a id="135" class="Keyword">import</a> <a id="142" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="152" class="Keyword">open</a> <a id="157" class="Keyword">import</a> <a id="164" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="174" class="Keyword">open</a> <a id="179" class="Keyword">import</a> <a id="186" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Data.List.html" class="Module">Data.List</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="268" class="Keyword">open</a> <a id="273" class="Keyword">import</a> <a id="280" href="Free.html" class="Module">Free</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Free.Choice.html" class="Module">Free.Choice</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Free.State.html" class="Module">Free.State</a> <a id="332" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Free.Nil.html" class="Module">Free.Nil</a>

<a id="356" class="Keyword">open</a> <a id="361" class="Keyword">import</a> <a id="368" href="Example.Free.State.html" class="Module">Example.Free.State</a>

<a id="example₁"></a><a id="388" href="Example.Free.Choice%252BState.html#388" class="Function">example₁</a> <a id="397" class="Symbol">:</a> <a id="399" href="Free.html#1508" class="Datatype">Free</a> <a id="404" class="Symbol">(</a><a id="405" href="Free.Choice.html#263" class="Function">Choice</a> <a id="412" href="Free.html#993" class="Function Operator">⊕</a> <a id="414" href="Free.State.html#391" class="Function">State</a> <a id="420" href="Free.html#993" class="Function Operator">⊕</a> <a id="422" href="Free.Nil.html#90" class="Function">Nil</a><a id="425" class="Symbol">)</a> <a id="427" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="429" href="Example.Free.Choice%252BState.html#388" class="Function">example₁</a> <a id="438" class="Symbol">=</a> <a id="440" class="Keyword">do</a>
  <a id="445" href="Free.State.html#510" class="Function">‵put</a> <a id="450" class="Number">1</a>
  <a id="454" href="Example.Free.Choice%252BState.html#454" class="Bound">b</a> <a id="456" href="Free.html#2048" class="Function Operator">←</a> <a id="458" href="Free.Choice.html#369" class="Function">‵or</a>
  <a id="464" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="467" href="Example.Free.Choice%252BState.html#454" class="Bound">b</a> <a id="469" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="474" href="Example.Free.State.html#195" class="Function">‵incr</a> <a id="480" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="485" class="Symbol">(</a><a id="486" class="Keyword">do</a> <a id="489" href="Example.Free.State.html#195" class="Function">‵incr</a><a id="494" class="Symbol">;</a> <a id="496" href="Example.Free.State.html#195" class="Function">‵incr</a><a id="501" class="Symbol">)</a>
  <a id="505" href="Free.State.html#616" class="Function">‵get</a>

<a id="test₁"></a><a id="511" href="Example.Free.Choice%252BState.html#511" class="Function">test₁</a> <a id="517" class="Symbol">:</a> <a id="519" href="Free.Nil.html#168" class="Function">un</a> <a id="522" class="Symbol">((</a><a id="524" href="Free.html#7195" class="Function Operator">given</a> <a id="530" href="Free.Choice.html#584" class="Function">hChoice</a> <a id="538" href="Free.html#7195" class="Function Operator">handle</a> <a id="545" class="Symbol">(</a><a id="546" href="Function.Base.html#1629" class="Function">flip</a> <a id="551" class="Symbol">(</a><a id="552" href="Free.html#7195" class="Function Operator">given</a> <a id="558" href="Free.State.html#729" class="Function">hSt</a> <a id="562" href="Free.html#7195" class="Function Operator">handle_</a><a id="569" class="Symbol">)</a> <a id="571" class="Number">0</a> <a id="573" href="Example.Free.Choice%252BState.html#388" class="Function">example₁</a><a id="581" class="Symbol">))</a> <a id="584" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="586" class="Symbol">)</a> <a id="588" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="590" class="Number">2</a> <a id="592" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="594" class="Number">3</a> <a id="596" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="598" class="InductiveConstructor">[]</a>
<a id="601" href="Example.Free.Choice%252BState.html#511" class="Function">test₁</a> <a id="607" class="Symbol">=</a> <a id="609" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="test₁′"></a><a id="615" href="Example.Free.Choice%252BState.html#615" class="Function">test₁′</a> <a id="622" class="Symbol">:</a> <a id="624" href="Free.Nil.html#168" class="Function">un</a> <a id="627" class="Symbol">(</a><a id="628" href="Function.Base.html#1629" class="Function">flip</a> <a id="633" class="Symbol">(</a><a id="634" href="Free.html#7195" class="Function Operator">given</a> <a id="640" href="Free.State.html#729" class="Function">hSt</a> <a id="644" href="Free.html#7195" class="Function Operator">handle_</a><a id="651" class="Symbol">)</a> <a id="653" class="Number">0</a> <a id="655" class="Symbol">((</a><a id="657" href="Free.html#7195" class="Function Operator">given</a> <a id="663" href="Free.Choice.html#584" class="Function">hChoice</a> <a id="671" href="Free.html#7195" class="Function Operator">handle</a> <a id="678" href="Example.Free.Choice%252BState.html#388" class="Function">example₁</a><a id="686" class="Symbol">)</a> <a id="688" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="690" class="Symbol">))</a> <a id="693" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="695" class="Number">2</a> <a id="697" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="699" class="Number">4</a> <a id="701" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="703" class="InductiveConstructor">[]</a>
<a id="706" href="Example.Free.Choice%252BState.html#615" class="Function">test₁′</a> <a id="713" class="Symbol">=</a> <a id="715" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre></body></html>