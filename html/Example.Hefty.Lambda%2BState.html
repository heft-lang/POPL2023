<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Example.Hefty.Lambda+State</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--overlapping-instances</a> <a id="37" class="Pragma">--instance-search-depth=10</a> <a id="64" class="Symbol">#-}</a>

<a id="69" class="Keyword">module</a> <a id="76" href="Example.Hefty.Lambda%252BState.html" class="Module">Example.Hefty.Lambda+State</a> <a id="103" class="Keyword">where</a>

<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="Function.html" class="Module">Function</a> <a id="131" class="Keyword">hiding</a> <a id="138" class="Symbol">(</a><a id="139" href="Function.Bundles.html#8700" class="Function Operator">_↣_</a><a id="142" class="Symbol">;</a> <a id="144" href="Function.Bundles.html#8632" class="Function Operator">_⟶_</a><a id="147" class="Symbol">)</a>
<a id="149" class="Keyword">open</a> <a id="154" class="Keyword">import</a> <a id="161" href="Level.html" class="Module">Level</a> <a id="167" class="Keyword">renaming</a> <a id="176" class="Symbol">(</a><a id="177" href="Agda.Primitive.html#764" class="Primitive">zero</a> <a id="182" class="Symbol">to</a> <a id="185" class="Primitive">ℓ0</a><a id="187" class="Symbol">)</a> <a id="189" class="Keyword">using</a> <a id="195" class="Symbol">()</a>
<a id="198" class="Keyword">open</a> <a id="203" class="Keyword">import</a> <a id="210" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="219" class="Keyword">open</a> <a id="224" class="Keyword">import</a> <a id="231" href="Data.Universe.html" class="Module">Data.Universe</a> <a id="245" class="Keyword">renaming</a> <a id="254" class="Symbol">(</a><a id="255" href="Data.Universe.html#396" class="Record">Universe</a> <a id="264" class="Symbol">to</a> <a id="267" class="Record">Univ</a><a id="271" class="Symbol">)</a>
<a id="273" class="Keyword">private</a> <a id="Universe"></a><a id="281" href="Example.Hefty.Lambda%252BState.html#281" class="Function">Universe</a> <a id="290" class="Symbol">=</a> <a id="292" href="Example.Hefty.Lambda%252BState.html#267" class="Record">Univ</a> <a id="297" href="Example.Hefty.Lambda%252BState.html#185" class="Primitive">ℓ0</a> <a id="300" href="Example.Hefty.Lambda%252BState.html#185" class="Primitive">ℓ0</a>
<a id="303" class="Keyword">open</a> <a id="308" href="Example.Hefty.Lambda%252BState.html#267" class="Module">Univ</a> <a id="313" class="Symbol">⦃</a> <a id="315" class="Symbol">...</a> <a id="319" class="Symbol">⦄</a> <a id="321" class="Keyword">renaming</a> <a id="330" class="Symbol">(</a><a id="331" href="Data.Universe.html#447" class="Field">U</a> <a id="333" class="Symbol">to</a> <a id="336" class="Field">Ty</a><a id="338" class="Symbol">;</a> <a id="340" href="Data.Universe.html#477" class="Field">El</a> <a id="343" class="Symbol">to</a> <a id="346" class="Field">⟦_⟧</a><a id="349" class="Symbol">)</a>
<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="402" class="Keyword">open</a> <a id="407" class="Keyword">import</a> <a id="414" href="Free.html" class="Module">Free</a> <a id="419" class="Keyword">hiding</a> <a id="426" class="Symbol">(</a><a id="427" href="Free.html#2048" class="Function Operator">_&gt;&gt;=_</a><a id="432" class="Symbol">;</a> <a id="434" href="Free.html#2120" class="Function Operator">_&gt;&gt;_</a><a id="438" class="Symbol">)</a>
<a id="440" class="Keyword">open</a> <a id="445" class="Keyword">import</a> <a id="452" href="Free.State.html" class="Module">Free.State</a> <a id="463" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="465" class="Keyword">open</a> <a id="470" class="Keyword">import</a> <a id="477" href="Free.Nil.html" class="Module">Free.Nil</a>

<a id="487" class="Keyword">open</a> <a id="492" class="Keyword">import</a> <a id="499" href="Hefty.html" class="Module">Hefty</a> <a id="505" class="Keyword">hiding</a> <a id="512" class="Symbol">(</a><a id="513" href="Hefty.html#2772" class="Function Operator">_&gt;&gt;=_</a><a id="518" class="Symbol">;</a> <a id="520" href="Hefty.html#2901" class="Function Operator">_&gt;&gt;_</a><a id="524" class="Symbol">)</a>
<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Hefty.Lift.html" class="Module">Hefty.Lift</a>
<a id="549" class="Keyword">open</a> <a id="554" class="Keyword">import</a> <a id="561" href="Hefty.Lambda.html" class="Module">Hefty.Lambda</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Hefty.Nil.html" class="Module">Hefty.Nil</a>

<a id="597" class="Keyword">open</a> <a id="602" class="Keyword">import</a> <a id="609" href="Function.Construct.Identity.html" class="Module">Function.Construct.Identity</a> <a id="637" class="Keyword">using</a> <a id="643" class="Symbol">(</a><a id="644" href="Function.Construct.Identity.html#4286" class="Function">↔-id</a><a id="648" class="Symbol">)</a>


<a id="652" class="Comment">{-
A universe of types polymorphic test program
-}</a>

<a id="704" class="Keyword">module</a> <a id="711" href="Example.Hefty.Lambda%252BState.html#711" class="Module">_</a> <a id="713" class="Symbol">⦃</a> <a id="715" href="Example.Hefty.Lambda%252BState.html#715" class="Bound">u</a> <a id="717" class="Symbol">:</a> <a id="719" href="Hefty.Lambda.html#471" class="Record">LamUniverse</a> <a id="731" class="Symbol">⦄</a> <a id="733" class="Symbol">{</a><a id="734" href="Example.Hefty.Lambda%252BState.html#734" class="Bound">num</a> <a id="738" class="Symbol">:</a> <a id="740" href="Example.Hefty.Lambda%252BState.html#336" class="Field">Ty</a><a id="742" class="Symbol">}</a>
         <a id="753" class="Symbol">⦃</a> <a id="755" href="Example.Hefty.Lambda%252BState.html#755" class="Bound">iso₁</a> <a id="760" class="Symbol">:</a> <a id="762" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="764" href="Example.Hefty.Lambda%252BState.html#734" class="Bound">num</a> <a id="768" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a> <a id="770" href="Function.Bundles.html#9221" class="Function Operator">↔</a> <a id="772" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="774" class="Symbol">⦄</a> <a id="776" class="Keyword">where</a>

  <a id="785" class="Keyword">open</a> <a id="790" class="Keyword">import</a> <a id="797" href="Hefty.html" class="Module">Hefty</a> <a id="803" class="Keyword">using</a> <a id="809" class="Symbol">(</a><a id="810" href="Hefty.html#2772" class="Function Operator">_&gt;&gt;=_</a><a id="815" class="Symbol">;</a> <a id="817" href="Hefty.html#2901" class="Function Operator">_&gt;&gt;_</a><a id="821" class="Symbol">)</a>
  <a id="825" class="Keyword">open</a> <a id="830" href="Function.Bundles.html#6049" class="Module">Inverse</a> <a id="838" class="Symbol">⦃</a> <a id="840" class="Symbol">...</a> <a id="844" class="Symbol">⦄</a>

  <a id="849" href="Example.Hefty.Lambda%252BState.html#849" class="Function">ex</a> <a id="852" class="Symbol">:</a> <a id="854" href="Hefty.html#1799" class="Datatype">Hefty</a> <a id="860" class="Symbol">(</a><a id="861" href="Hefty.Lambda.html#838" class="Function">Lam</a> <a id="865" href="Hefty.html#1156" class="Function Operator">∔</a> <a id="867" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="872" href="Free.State.html#391" class="Function">State</a> <a id="878" href="Hefty.html#1156" class="Function Operator">∔</a> <a id="880" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="885" href="Free.Nil.html#90" class="Function">Nil</a><a id="888" class="Symbol">)</a> <a id="890" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="894" href="Example.Hefty.Lambda%252BState.html#849" class="Function">ex</a> <a id="897" class="Symbol">=</a> <a id="899" class="Keyword">do</a>
    <a id="906" href="Hefty.Lift.html#320" class="Function Operator">↑</a> <a id="908" href="Free.State.html#306" class="InductiveConstructor">put</a> <a id="912" class="Number">1</a>
    <a id="918" href="Example.Hefty.Lambda%252BState.html#918" class="Bound">f</a> <a id="920" href="Hefty.html#2772" class="Function Operator">←</a> <a id="922" href="Hefty.Lambda.html#1305" class="Function">‵lam</a> <a id="927" class="Symbol">(λ</a> <a id="930" href="Example.Hefty.Lambda%252BState.html#930" class="Bound">x</a> <a id="932" class="Symbol">→</a> <a id="934" class="Keyword">do</a>
          <a id="947" href="Example.Hefty.Lambda%252BState.html#947" class="Bound">n₁</a> <a id="950" href="Hefty.html#2772" class="Function Operator">←</a> <a id="952" href="Hefty.Lambda.html#1485" class="Function">‵var</a> <a id="957" href="Example.Hefty.Lambda%252BState.html#930" class="Bound">x</a>
          <a id="969" href="Example.Hefty.Lambda%252BState.html#969" class="Bound">n₂</a> <a id="972" href="Hefty.html#2772" class="Function Operator">←</a> <a id="974" href="Hefty.Lambda.html#1485" class="Function">‵var</a> <a id="979" href="Example.Hefty.Lambda%252BState.html#930" class="Bound">x</a>
          <a id="991" href="Hefty.html#1843" class="InductiveConstructor">pure</a> <a id="996" class="Symbol">(</a><a id="997" href="Function.Bundles.html#6127" class="Field">from</a> <a id="1002" class="Symbol">((</a><a id="1004" href="Function.Bundles.html#6103" class="Field">to</a> <a id="1007" href="Example.Hefty.Lambda%252BState.html#947" class="Bound">n₁</a><a id="1009" class="Symbol">)</a> <a id="1011" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1013" class="Symbol">(</a><a id="1014" href="Function.Bundles.html#6103" class="Field">to</a> <a id="1017" href="Example.Hefty.Lambda%252BState.html#969" class="Bound">n₂</a><a id="1019" class="Symbol">))))</a>
    <a id="1028" href="Example.Hefty.Lambda%252BState.html#1028" class="Bound">v</a> <a id="1030" href="Hefty.html#2772" class="Function Operator">←</a> <a id="1032" href="Hefty.Lambda.html#1654" class="Function">‵app</a> <a id="1037" href="Example.Hefty.Lambda%252BState.html#918" class="Bound">f</a> <a id="1039" href="Example.Hefty.Lambda%252BState.html#1070" class="Function">incr</a>
    <a id="1048" href="Hefty.html#1843" class="InductiveConstructor">pure</a> <a id="1053" class="Symbol">(</a><a id="1054" href="Function.Bundles.html#6103" class="Field">to</a> <a id="1057" href="Example.Hefty.Lambda%252BState.html#1028" class="Bound">v</a><a id="1058" class="Symbol">)</a>
    <a id="1064" class="Keyword">where</a> <a id="1070" href="Example.Hefty.Lambda%252BState.html#1070" class="Function">incr</a> <a id="1075" class="Symbol">=</a> <a id="1077" class="Keyword">do</a> <a id="1080" href="Example.Hefty.Lambda%252BState.html#1080" class="Bound">s₀</a> <a id="1083" href="Hefty.html#2772" class="Function Operator">←</a> <a id="1085" href="Hefty.Lift.html#320" class="Function Operator">↑</a> <a id="1087" href="Free.State.html#326" class="InductiveConstructor">get</a><a id="1090" class="Symbol">;</a> <a id="1092" href="Hefty.Lift.html#320" class="Function Operator">↑</a> <a id="1094" href="Free.State.html#306" class="InductiveConstructor">put</a> <a id="1098" class="Symbol">(</a><a id="1099" href="Example.Hefty.Lambda%252BState.html#1080" class="Bound">s₀</a> <a id="1102" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1104" class="Number">1</a><a id="1105" class="Symbol">);</a> <a id="1108" href="Example.Hefty.Lambda%252BState.html#1108" class="Bound">s₁</a> <a id="1111" href="Hefty.html#2772" class="Function Operator">←</a> <a id="1113" href="Hefty.Lift.html#320" class="Function Operator">↑</a> <a id="1115" href="Free.State.html#326" class="InductiveConstructor">get</a><a id="1118" class="Symbol">;</a> <a id="1120" href="Hefty.html#1843" class="InductiveConstructor">pure</a> <a id="1125" class="Symbol">(</a><a id="1126" href="Function.Bundles.html#6127" class="Field">from</a> <a id="1131" href="Example.Hefty.Lambda%252BState.html#1108" class="Bound">s₁</a><a id="1133" class="Symbol">)</a>

<a id="1136" class="Comment">{-
A call-by-value interpretation of the universe of types
-}</a>

<a id="1199" class="Keyword">module</a> <a id="CBVInterpretation"></a><a id="1206" href="Example.Hefty.Lambda%252BState.html#1206" class="Module">CBVInterpretation</a> <a id="1224" class="Keyword">where</a>

  <a id="1233" class="Comment">{-
  A universe of types with functions and numbers
  -}</a>

  <a id="1293" class="Keyword">data</a> <a id="CBVInterpretation.Type"></a><a id="1298" href="Example.Hefty.Lambda%252BState.html#1298" class="Datatype">Type</a> <a id="1303" class="Symbol">:</a> <a id="1305" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1309" class="Keyword">where</a>
    <a id="CBVInterpretation.Type._⟶_"></a><a id="1319" href="Example.Hefty.Lambda%252BState.html#1319" class="InductiveConstructor Operator">_⟶_</a> <a id="1323" class="Symbol">:</a> <a id="1325" class="Symbol">(</a><a id="1326" href="Example.Hefty.Lambda%252BState.html#1326" class="Bound">t₁</a> <a id="1329" href="Example.Hefty.Lambda%252BState.html#1329" class="Bound">t₂</a> <a id="1332" class="Symbol">:</a> <a id="1334" href="Example.Hefty.Lambda%252BState.html#1298" class="Datatype">Type</a><a id="1338" class="Symbol">)</a> <a id="1340" class="Symbol">→</a> <a id="1342" href="Example.Hefty.Lambda%252BState.html#1298" class="Datatype">Type</a>
    <a id="CBVInterpretation.Type.num"></a><a id="1351" href="Example.Hefty.Lambda%252BState.html#1351" class="InductiveConstructor">num</a> <a id="1355" class="Symbol">:</a> <a id="1357" href="Example.Hefty.Lambda%252BState.html#1298" class="Datatype">Type</a>

  <a id="1365" class="Keyword">private</a> <a id="1373" class="Keyword">instance</a>
    <a id="CBVInterpretation.CBVUniverse"></a><a id="1386" href="Example.Hefty.Lambda%252BState.html#1386" class="Function">CBVUniverse</a> <a id="1398" class="Symbol">:</a> <a id="1400" href="Example.Hefty.Lambda%252BState.html#281" class="Function">Universe</a>
    <a id="1413" href="Example.Hefty.Lambda%252BState.html#336" class="Field">Ty</a> <a id="1416" class="Symbol">⦃</a> <a id="1418" href="Example.Hefty.Lambda%252BState.html#1386" class="Function">CBVUniverse</a> <a id="1430" class="Symbol">⦄</a> <a id="1432" class="Symbol">=</a> <a id="1434" href="Example.Hefty.Lambda%252BState.html#1298" class="Datatype">Type</a>
    <a id="1443" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦_⟧</a> <a id="1447" class="Symbol">⦃</a> <a id="1449" href="Example.Hefty.Lambda%252BState.html#1386" class="Function">CBVUniverse</a> <a id="1461" class="Symbol">⦄</a> <a id="1463" class="Symbol">(</a><a id="1464" href="Example.Hefty.Lambda%252BState.html#1464" class="Bound">t</a> <a id="1466" href="Example.Hefty.Lambda%252BState.html#1319" class="InductiveConstructor Operator">⟶</a> <a id="1468" href="Example.Hefty.Lambda%252BState.html#1468" class="Bound">t₁</a><a id="1470" class="Symbol">)</a>  <a id="1473" class="Symbol">=</a> <a id="1475" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="1477" href="Example.Hefty.Lambda%252BState.html#1464" class="Bound">t</a> <a id="1479" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a> <a id="1481" class="Symbol">→</a> <a id="1483" href="Free.html#1508" class="Datatype">Free</a> <a id="1488" class="Symbol">(</a><a id="1489" href="Free.State.html#391" class="Function">State</a> <a id="1495" href="Free.html#993" class="Function Operator">⊕</a> <a id="1497" href="Free.Nil.html#90" class="Function">Nil</a><a id="1500" class="Symbol">)</a> <a id="1502" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="1504" href="Example.Hefty.Lambda%252BState.html#1468" class="Bound">t₁</a> <a id="1507" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a>
    <a id="1513" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦_⟧</a> <a id="1517" class="Symbol">⦃</a> <a id="1519" href="Example.Hefty.Lambda%252BState.html#1386" class="Function">CBVUniverse</a> <a id="1531" class="Symbol">⦄</a> <a id="1533" href="Example.Hefty.Lambda%252BState.html#1351" class="InductiveConstructor">num</a>       <a id="1543" class="Symbol">=</a> <a id="1545" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>


    <a id="1553" class="Comment">{-
    The call-by-value interpretation adheres to the LamUniverse interface from
    `Hefty.Lambda`
    -}</a>

    <a id="CBVInterpretation.iso-num"></a><a id="1666" href="Example.Hefty.Lambda%252BState.html#1666" class="Function">iso-num</a> <a id="1674" class="Symbol">:</a> <a id="1676" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1678" href="Function.Bundles.html#9221" class="Function Operator">↔</a> <a id="1680" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="1682" href="Example.Hefty.Lambda%252BState.html#1351" class="InductiveConstructor">num</a> <a id="1686" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a>
    <a id="1692" href="Example.Hefty.Lambda%252BState.html#1666" class="Function">iso-num</a> <a id="1700" class="Symbol">=</a> <a id="1702" href="Function.Construct.Identity.html#4286" class="Function">↔-id</a> <a id="1707" class="Symbol">_</a>

    <a id="CBVInterpretation.iso-fun"></a><a id="1714" href="Example.Hefty.Lambda%252BState.html#1714" class="Function">iso-fun</a> <a id="1722" class="Symbol">:</a> <a id="1724" class="Symbol">{</a><a id="1725" href="Example.Hefty.Lambda%252BState.html#1725" class="Bound">t₁</a> <a id="1728" href="Example.Hefty.Lambda%252BState.html#1728" class="Bound">t₂</a> <a id="1731" class="Symbol">:</a> <a id="1733" href="Example.Hefty.Lambda%252BState.html#1298" class="Datatype">Type</a><a id="1737" class="Symbol">}</a>
            <a id="1751" class="Symbol">→</a> <a id="1753" class="Symbol">(</a><a id="1754" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="1756" href="Example.Hefty.Lambda%252BState.html#1725" class="Bound">t₁</a> <a id="1759" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a> <a id="1761" class="Symbol">→</a> <a id="1763" href="Free.html#1508" class="Datatype">Free</a> <a id="1768" class="Symbol">(</a><a id="1769" href="Free.State.html#391" class="Function">State</a> <a id="1775" href="Free.html#993" class="Function Operator">⊕</a> <a id="1777" href="Free.Nil.html#90" class="Function">Nil</a><a id="1780" class="Symbol">)</a> <a id="1782" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="1784" href="Example.Hefty.Lambda%252BState.html#1728" class="Bound">t₂</a> <a id="1787" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a><a id="1788" class="Symbol">)</a> <a id="1790" href="Function.Bundles.html#9221" class="Function Operator">↔</a> <a id="1792" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="1794" href="Example.Hefty.Lambda%252BState.html#1725" class="Bound">t₁</a> <a id="1797" href="Example.Hefty.Lambda%252BState.html#1319" class="InductiveConstructor Operator">⟶</a> <a id="1799" href="Example.Hefty.Lambda%252BState.html#1728" class="Bound">t₂</a> <a id="1802" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a>
    <a id="1808" href="Example.Hefty.Lambda%252BState.html#1714" class="Function">iso-fun</a> <a id="1816" class="Symbol">=</a> <a id="1818" href="Function.Construct.Identity.html#4286" class="Function">↔-id</a> <a id="1823" class="Symbol">_</a>

    <a id="CBVInterpretation.iso-c"></a><a id="1830" href="Example.Hefty.Lambda%252BState.html#1830" class="Function">iso-c</a> <a id="1836" class="Symbol">:</a> <a id="1838" class="Symbol">{</a><a id="1839" href="Example.Hefty.Lambda%252BState.html#1839" class="Bound">t</a> <a id="1841" class="Symbol">:</a> <a id="1843" href="Example.Hefty.Lambda%252BState.html#1298" class="Datatype">Type</a><a id="1847" class="Symbol">}</a> <a id="1849" class="Symbol">→</a> <a id="1851" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="1853" href="Example.Hefty.Lambda%252BState.html#1839" class="Bound">t</a> <a id="1855" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a> <a id="1857" href="Function.Bundles.html#9221" class="Function Operator">↔</a> <a id="1859" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="1861" href="Function.Base.html#695" class="Function">id</a> <a id="1864" href="Example.Hefty.Lambda%252BState.html#1839" class="Bound">t</a> <a id="1866" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a>
    <a id="1872" href="Example.Hefty.Lambda%252BState.html#1830" class="Function">iso-c</a> <a id="1878" class="Symbol">=</a> <a id="1880" href="Function.Construct.Identity.html#4286" class="Function">↔-id</a> <a id="1885" class="Symbol">_</a>

    <a id="CBVInterpretation.LamCBVUniverse"></a><a id="1892" href="Example.Hefty.Lambda%252BState.html#1892" class="Function">LamCBVUniverse</a> <a id="1907" class="Symbol">:</a> <a id="1909" href="Hefty.Lambda.html#471" class="Record">LamUniverse</a>
    <a id="1925" href="Hefty.Lambda.html#506" class="Field">u</a>    <a id="1930" class="Symbol">⦃</a> <a id="1932" href="Example.Hefty.Lambda%252BState.html#1892" class="Function">LamCBVUniverse</a> <a id="1947" class="Symbol">⦄</a> <a id="1949" class="Symbol">=</a> <a id="1951" href="Example.Hefty.Lambda%252BState.html#1386" class="Function">CBVUniverse</a>
    <a id="1967" href="Hefty.Lambda.html#529" class="Field Operator">_↣_</a>  <a id="1972" class="Symbol">⦃</a> <a id="1974" href="Example.Hefty.Lambda%252BState.html#1892" class="Function">LamCBVUniverse</a> <a id="1989" class="Symbol">⦄</a> <a id="1991" class="Symbol">=</a> <a id="1993" href="Example.Hefty.Lambda%252BState.html#1319" class="InductiveConstructor Operator">_⟶_</a>
    <a id="2001" href="Hefty.Lambda.html#558" class="Field">c</a>    <a id="2006" class="Symbol">⦃</a> <a id="2008" href="Example.Hefty.Lambda%252BState.html#1892" class="Function">LamCBVUniverse</a> <a id="2023" class="Symbol">⦄</a> <a id="2025" class="Symbol">=</a> <a id="2027" href="Function.Base.html#695" class="Function">id</a>


  <a id="2034" class="Comment">{-
  Automatic elaboration
  -}</a>

  <a id="CBVInterpretation.elab-cbv"></a><a id="2069" href="Example.Hefty.Lambda%252BState.html#2069" class="Function">elab-cbv</a> <a id="2078" class="Symbol">:</a> <a id="2080" href="Hefty.html#10141" class="Record">Elab</a> <a id="2085" class="Symbol">(</a><a id="2086" href="Hefty.Lambda.html#838" class="Function">Lam</a> <a id="2090" href="Hefty.html#1156" class="Function Operator">∔</a> <a id="2092" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="2097" href="Free.State.html#391" class="Function">State</a> <a id="2103" href="Hefty.html#1156" class="Function Operator">∔</a> <a id="2105" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="2110" href="Free.Nil.html#90" class="Function">Nil</a><a id="2113" class="Symbol">)</a> <a id="2115" class="Symbol">(</a><a id="2116" href="Free.State.html#391" class="Function">State</a> <a id="2122" href="Free.html#993" class="Function Operator">⊕</a> <a id="2124" href="Free.Nil.html#90" class="Function">Nil</a><a id="2127" class="Symbol">)</a>
  <a id="2131" href="Example.Hefty.Lambda%252BState.html#2069" class="Function">elab-cbv</a> <a id="2140" class="Symbol">=</a> <a id="2142" href="Hefty.html#10314" class="Function">auto-elab</a>

  <a id="2155" class="Comment">{-
  The program evaluates using a call-by-value interpretation
  -}</a>
  <a id="CBVInterpretation.test-ex-cbv"></a><a id="2226" href="Example.Hefty.Lambda%252BState.html#2226" class="Function">test-ex-cbv</a> <a id="2238" class="Symbol">:</a> <a id="2240" href="Free.Nil.html#168" class="Function">un</a> <a id="2243" class="Symbol">((</a><a id="2245" href="Free.html#7195" class="Function Operator">given</a> <a id="2251" href="Free.State.html#729" class="Function">hSt</a> <a id="2255" href="Free.html#7195" class="Function Operator">handle</a> <a id="2262" class="Symbol">(</a><a id="2263" href="Hefty.html#10237" class="Function">elab</a> <a id="2268" href="Example.Hefty.Lambda%252BState.html#2069" class="Function">elab-cbv</a> <a id="2277" href="Example.Hefty.Lambda%252BState.html#849" class="Function">ex</a><a id="2279" class="Symbol">))</a> <a id="2282" class="Number">0</a><a id="2283" class="Symbol">)</a> <a id="2285" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2287" class="Number">4</a>
  <a id="2291" href="Example.Hefty.Lambda%252BState.html#2226" class="Function">test-ex-cbv</a> <a id="2303" class="Symbol">=</a> <a id="2305" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>


<a id="2312" class="Comment">{-
A call-by-name interpretation of the universe of types
-}</a>

<a id="2374" class="Keyword">module</a> <a id="CBNInterpretation"></a><a id="2381" href="Example.Hefty.Lambda%252BState.html#2381" class="Module">CBNInterpretation</a> <a id="2399" class="Keyword">where</a>

  <a id="2408" class="Comment">{-
  A universe of types with functions, numbers, and thunks (suspended computations)
  -}</a>

  <a id="2502" class="Keyword">data</a> <a id="CBNInterpretation.Type"></a><a id="2507" href="Example.Hefty.Lambda%252BState.html#2507" class="Datatype">Type</a> <a id="2512" class="Symbol">:</a> <a id="2514" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2518" class="Keyword">where</a>
    <a id="CBNInterpretation.Type._⟶_"></a><a id="2528" href="Example.Hefty.Lambda%252BState.html#2528" class="InductiveConstructor Operator">_⟶_</a> <a id="2532" class="Symbol">:</a> <a id="2534" class="Symbol">(</a><a id="2535" href="Example.Hefty.Lambda%252BState.html#2535" class="Bound">t₁</a> <a id="2538" href="Example.Hefty.Lambda%252BState.html#2538" class="Bound">t₂</a> <a id="2541" class="Symbol">:</a> <a id="2543" href="Example.Hefty.Lambda%252BState.html#2507" class="Datatype">Type</a><a id="2547" class="Symbol">)</a>   <a id="2551" class="Symbol">→</a> <a id="2553" href="Example.Hefty.Lambda%252BState.html#2507" class="Datatype">Type</a>
    <a id="CBNInterpretation.Type.num"></a><a id="2562" href="Example.Hefty.Lambda%252BState.html#2562" class="InductiveConstructor">num</a>  <a id="2567" class="Symbol">:</a>                     <a id="2589" href="Example.Hefty.Lambda%252BState.html#2507" class="Datatype">Type</a>
    <a id="CBNInterpretation.Type.susp"></a><a id="2598" href="Example.Hefty.Lambda%252BState.html#2598" class="InductiveConstructor">susp</a> <a id="2603" class="Symbol">:</a> <a id="2605" href="Example.Hefty.Lambda%252BState.html#2507" class="Datatype">Type</a>              <a id="2623" class="Symbol">→</a> <a id="2625" href="Example.Hefty.Lambda%252BState.html#2507" class="Datatype">Type</a>

  <a id="2633" class="Keyword">private</a> <a id="2641" class="Keyword">instance</a>
    <a id="CBNInterpretation.CBNUniverse"></a><a id="2654" href="Example.Hefty.Lambda%252BState.html#2654" class="Function">CBNUniverse</a> <a id="2666" class="Symbol">:</a> <a id="2668" href="Example.Hefty.Lambda%252BState.html#281" class="Function">Universe</a>
    <a id="2681" href="Example.Hefty.Lambda%252BState.html#336" class="Field">Ty</a> <a id="2684" class="Symbol">⦃</a> <a id="2686" href="Example.Hefty.Lambda%252BState.html#2654" class="Function">CBNUniverse</a> <a id="2698" class="Symbol">⦄</a> <a id="2700" class="Symbol">=</a> <a id="2702" href="Example.Hefty.Lambda%252BState.html#2507" class="Datatype">Type</a>
    <a id="2711" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦_⟧</a> <a id="2715" class="Symbol">⦃</a> <a id="2717" href="Example.Hefty.Lambda%252BState.html#2654" class="Function">CBNUniverse</a> <a id="2729" class="Symbol">⦄</a> <a id="2731" class="Symbol">(</a><a id="2732" href="Example.Hefty.Lambda%252BState.html#2732" class="Bound">t</a> <a id="2734" href="Example.Hefty.Lambda%252BState.html#2528" class="InductiveConstructor Operator">⟶</a> <a id="2736" href="Example.Hefty.Lambda%252BState.html#2736" class="Bound">t₁</a><a id="2738" class="Symbol">)</a>  <a id="2741" class="Symbol">=</a> <a id="2743" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="2745" href="Example.Hefty.Lambda%252BState.html#2732" class="Bound">t</a> <a id="2747" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a> <a id="2749" class="Symbol">→</a> <a id="2751" href="Free.html#1508" class="Datatype">Free</a> <a id="2756" class="Symbol">(</a><a id="2757" href="Free.State.html#391" class="Function">State</a> <a id="2763" href="Free.html#993" class="Function Operator">⊕</a> <a id="2765" href="Free.Nil.html#90" class="Function">Nil</a><a id="2768" class="Symbol">)</a> <a id="2770" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="2772" href="Example.Hefty.Lambda%252BState.html#2736" class="Bound">t₁</a> <a id="2775" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a>
    <a id="2781" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦_⟧</a> <a id="2785" class="Symbol">⦃</a> <a id="2787" href="Example.Hefty.Lambda%252BState.html#2654" class="Function">CBNUniverse</a> <a id="2799" class="Symbol">⦄</a> <a id="2801" href="Example.Hefty.Lambda%252BState.html#2562" class="InductiveConstructor">num</a>        <a id="2812" class="Symbol">=</a> <a id="2814" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="2820" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦_⟧</a> <a id="2824" class="Symbol">⦃</a> <a id="2826" href="Example.Hefty.Lambda%252BState.html#2654" class="Function">CBNUniverse</a> <a id="2838" class="Symbol">⦄</a> <a id="2840" class="Symbol">(</a><a id="2841" href="Example.Hefty.Lambda%252BState.html#2598" class="InductiveConstructor">susp</a> <a id="2846" href="Example.Hefty.Lambda%252BState.html#2846" class="Bound">t</a><a id="2847" class="Symbol">)</a>   <a id="2851" class="Symbol">=</a> <a id="2853" href="Free.html#1508" class="Datatype">Free</a> <a id="2858" class="Symbol">(</a><a id="2859" href="Free.State.html#391" class="Function">State</a> <a id="2865" href="Free.html#993" class="Function Operator">⊕</a> <a id="2867" href="Free.Nil.html#90" class="Function">Nil</a><a id="2870" class="Symbol">)</a> <a id="2872" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="2874" href="Example.Hefty.Lambda%252BState.html#2846" class="Bound">t</a> <a id="2876" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a>


    <a id="2884" class="Comment">{-
    The call-by-name interpretation adheres to the LamUniverse interface from
    `Hefty.Lambda`
    -}</a>

    <a id="CBNInterpretation.iso-num"></a><a id="2996" href="Example.Hefty.Lambda%252BState.html#2996" class="Function">iso-num</a> <a id="3004" class="Symbol">:</a> <a id="3006" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3008" href="Function.Bundles.html#9221" class="Function Operator">↔</a> <a id="3010" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="3012" href="Example.Hefty.Lambda%252BState.html#2562" class="InductiveConstructor">num</a> <a id="3016" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a>
    <a id="3022" href="Example.Hefty.Lambda%252BState.html#2996" class="Function">iso-num</a> <a id="3030" class="Symbol">=</a> <a id="3032" href="Function.Construct.Identity.html#4286" class="Function">↔-id</a> <a id="3037" class="Symbol">_</a>

    <a id="CBNInterpretation.iso-fun"></a><a id="3044" href="Example.Hefty.Lambda%252BState.html#3044" class="Function">iso-fun</a> <a id="3052" class="Symbol">:</a> <a id="3054" class="Symbol">{</a><a id="3055" href="Example.Hefty.Lambda%252BState.html#3055" class="Bound">t₁</a> <a id="3058" href="Example.Hefty.Lambda%252BState.html#3058" class="Bound">t₂</a> <a id="3061" class="Symbol">:</a> <a id="3063" href="Example.Hefty.Lambda%252BState.html#2507" class="Datatype">Type</a><a id="3067" class="Symbol">}</a>
            <a id="3081" class="Symbol">→</a> <a id="3083" class="Symbol">(</a><a id="3084" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="3086" href="Example.Hefty.Lambda%252BState.html#3055" class="Bound">t₁</a> <a id="3089" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a> <a id="3091" class="Symbol">→</a> <a id="3093" href="Free.html#1508" class="Datatype">Free</a> <a id="3098" class="Symbol">(</a><a id="3099" href="Free.State.html#391" class="Function">State</a> <a id="3105" href="Free.html#993" class="Function Operator">⊕</a> <a id="3107" href="Free.Nil.html#90" class="Function">Nil</a><a id="3110" class="Symbol">)</a> <a id="3112" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="3114" href="Example.Hefty.Lambda%252BState.html#3058" class="Bound">t₂</a> <a id="3117" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a><a id="3118" class="Symbol">)</a> <a id="3120" href="Function.Bundles.html#9221" class="Function Operator">↔</a> <a id="3122" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="3124" href="Example.Hefty.Lambda%252BState.html#3055" class="Bound">t₁</a> <a id="3127" href="Example.Hefty.Lambda%252BState.html#2528" class="InductiveConstructor Operator">⟶</a> <a id="3129" href="Example.Hefty.Lambda%252BState.html#3058" class="Bound">t₂</a> <a id="3132" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a>
    <a id="3138" href="Example.Hefty.Lambda%252BState.html#3044" class="Function">iso-fun</a> <a id="3146" class="Symbol">=</a> <a id="3148" href="Function.Construct.Identity.html#4286" class="Function">↔-id</a> <a id="3153" class="Symbol">_</a>

    <a id="CBNInterpretation.iso-susp"></a><a id="3160" href="Example.Hefty.Lambda%252BState.html#3160" class="Function">iso-susp</a> <a id="3169" class="Symbol">:</a> <a id="3171" class="Symbol">{</a><a id="3172" href="Example.Hefty.Lambda%252BState.html#3172" class="Bound">t</a> <a id="3174" class="Symbol">:</a> <a id="3176" href="Example.Hefty.Lambda%252BState.html#336" class="Field">Ty</a><a id="3178" class="Symbol">}</a>
             <a id="3193" class="Symbol">→</a> <a id="3195" href="Free.html#1508" class="Datatype">Free</a> <a id="3200" class="Symbol">(</a><a id="3201" href="Free.State.html#391" class="Function">State</a> <a id="3207" href="Free.html#993" class="Function Operator">⊕</a> <a id="3209" href="Free.Nil.html#90" class="Function">Nil</a><a id="3212" class="Symbol">)</a> <a id="3214" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="3216" href="Example.Hefty.Lambda%252BState.html#3172" class="Bound">t</a> <a id="3218" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a> <a id="3220" href="Function.Bundles.html#9221" class="Function Operator">↔</a> <a id="3222" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟦</a> <a id="3224" href="Example.Hefty.Lambda%252BState.html#2598" class="InductiveConstructor">susp</a> <a id="3229" href="Example.Hefty.Lambda%252BState.html#3172" class="Bound">t</a> <a id="3231" href="Example.Hefty.Lambda%252BState.html#346" class="Field Operator">⟧</a>
    <a id="3237" href="Example.Hefty.Lambda%252BState.html#3160" class="Function">iso-susp</a> <a id="3246" class="Symbol">=</a> <a id="3248" href="Function.Construct.Identity.html#4286" class="Function">↔-id</a> <a id="3253" class="Symbol">_</a>

    <a id="CBNInterpretation.LamCBNUniverse"></a><a id="3260" href="Example.Hefty.Lambda%252BState.html#3260" class="Function">LamCBNUniverse</a> <a id="3275" class="Symbol">:</a> <a id="3277" href="Hefty.Lambda.html#471" class="Record">LamUniverse</a>
    <a id="3293" href="Hefty.Lambda.html#506" class="Field">u</a> <a id="3295" class="Symbol">⦃</a> <a id="3297" href="Example.Hefty.Lambda%252BState.html#3260" class="Function">LamCBNUniverse</a> <a id="3312" class="Symbol">⦄</a> <a id="3314" class="Symbol">=</a> <a id="3316" href="Example.Hefty.Lambda%252BState.html#2654" class="Function">CBNUniverse</a>
    <a id="3332" href="Hefty.Lambda.html#529" class="Field Operator">_↣_</a> <a id="3336" class="Symbol">⦃</a> <a id="3338" href="Example.Hefty.Lambda%252BState.html#3260" class="Function">LamCBNUniverse</a> <a id="3353" class="Symbol">⦄</a> <a id="3355" class="Symbol">=</a> <a id="3357" href="Example.Hefty.Lambda%252BState.html#2528" class="InductiveConstructor Operator">_⟶_</a>
    <a id="3365" href="Hefty.Lambda.html#558" class="Field">c</a> <a id="3367" class="Symbol">⦃</a> <a id="3369" href="Example.Hefty.Lambda%252BState.html#3260" class="Function">LamCBNUniverse</a> <a id="3384" class="Symbol">⦄</a> <a id="3386" class="Symbol">=</a> <a id="3388" href="Example.Hefty.Lambda%252BState.html#2598" class="InductiveConstructor">susp</a>


  <a id="3397" class="Comment">{-
  Automatic elaboration
  -}</a>

  <a id="CBNInterpretation.elab-cbn"></a><a id="3432" href="Example.Hefty.Lambda%252BState.html#3432" class="Function">elab-cbn</a> <a id="3441" class="Symbol">:</a> <a id="3443" href="Hefty.html#10141" class="Record">Elab</a> <a id="3448" class="Symbol">(</a><a id="3449" href="Hefty.Lambda.html#838" class="Function">Lam</a> <a id="3453" href="Hefty.html#1156" class="Function Operator">∔</a> <a id="3455" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="3460" href="Free.State.html#391" class="Function">State</a> <a id="3466" href="Hefty.html#1156" class="Function Operator">∔</a> <a id="3468" href="Hefty.Lift.html#188" class="Function">Lift</a> <a id="3473" href="Free.Nil.html#90" class="Function">Nil</a><a id="3476" class="Symbol">)</a> <a id="3478" class="Symbol">(</a><a id="3479" href="Free.State.html#391" class="Function">State</a> <a id="3485" href="Free.html#993" class="Function Operator">⊕</a> <a id="3487" href="Free.Nil.html#90" class="Function">Nil</a><a id="3490" class="Symbol">)</a>
  <a id="3494" href="Example.Hefty.Lambda%252BState.html#3432" class="Function">elab-cbn</a> <a id="3503" class="Symbol">=</a> <a id="3505" href="Hefty.html#10314" class="Function">auto-elab</a>


  <a id="3519" class="Comment">{-
  The program evaluates using a call-by-value interpretation
  -}</a>
  <a id="CBNInterpretation.test-ex-cbv"></a><a id="3590" href="Example.Hefty.Lambda%252BState.html#3590" class="Function">test-ex-cbv</a> <a id="3602" class="Symbol">:</a> <a id="3604" href="Free.Nil.html#168" class="Function">un</a> <a id="3607" class="Symbol">((</a><a id="3609" href="Free.html#7195" class="Function Operator">given</a> <a id="3615" href="Free.State.html#729" class="Function">hSt</a> <a id="3619" href="Free.html#7195" class="Function Operator">handle</a> <a id="3626" class="Symbol">(</a><a id="3627" href="Hefty.html#10237" class="Function">elab</a> <a id="3632" href="Example.Hefty.Lambda%252BState.html#3432" class="Function">elab-cbn</a> <a id="3641" href="Example.Hefty.Lambda%252BState.html#849" class="Function">ex</a><a id="3643" class="Symbol">))</a> <a id="3646" class="Number">0</a><a id="3647" class="Symbol">)</a> <a id="3649" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3651" class="Number">5</a>
  <a id="3655" href="Example.Hefty.Lambda%252BState.html#3590" class="Function">test-ex-cbv</a> <a id="3667" class="Symbol">=</a> <a id="3669" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

</pre></body></html>